\chapter{Troubleshooting}
\label{ch:troubleshooting}



\section{Walltime issues}
If you get from your job output an error message similar to this:

\begin{prompt}
 =>> PBS: job killed: walltime %\emph{<value in seconds>}% exceeded limit %\emph{<value in seconds>}%
\end{prompt}

This occurs when your job did not complete within the requested walltime.
See section~\ref{sec:specifying-walltime-requirements} for more information about how to request the walltime.
It is recommended to use \emph{checkpointing} if the job requires \strong{72 hours} of walltime or more to be executed.
% FIXME: Refer to Checkpointing section.



\section{Out of quota issues}

Sometimes a job hangs at some point or it stops writing in the disk. These errors are usually
related to the quota usage. You may have reached your quota limit at some storage endpoint.
You should move (or remove) the data to a different storage endpoint (or request more quota) to be able to write to the disk and then resubmit the jobs.
\ifgent
Another option is to request extra quota for your VO to the VO moderator/s.
See section~\ref{subsec:predefined-user-directories} and section~\ref{subsec:predfined-quotas} for more information about
quotas and how to use the storage endpoints in an efficient way.
\fi
% FIXME: Add how to request quota section

\section{DOS/Windows text format}

If you get errors like:

\begin{prompt}
%\shellcmd{qsub fibo.pbs}%
qsub:  script is written in DOS/Windows text format
\end{prompt}

It's probably because you transferred the files from a Windows computer.
Please go to the section about \verb|dos2unix| in \href{\LinuxManualURL#sec:dos2unix}{chapter 5 of the intro to Linux}
to fix this error.

\section{Warning message when first connecting to new host}
\label{sec:warning-message-new-host}

\ifmacORlinux
\begin{prompt}
%\shellcmd{ssh \userid{}@\loginnode{}}%
The authenticity of host %\loginnode% (<IP-adress>)
can't be established.
%\underline{<algorithm> key fingerprint is <hash>}%
Are you sure you want to continue connecting (yes/no)?
\end{prompt}

Now you can check the authenticity by checking if the line that is at the place
of the underlined piece of text matches one of the following lines:
\begin{prompt}
%\opensshFirstConnect%
\end{prompt}

If it does, type  \strong{\emph{yes}}. If it doesn't, please contact support: \hpcinfo.
\else
\firsttimeconnection
\fi

\ifgent

\section{Module conflicts}

Modules that are loaded together must use the same toolchain version:
it is impossible to load two versions of the same module. In the following
example, we try to load a module that uses the \verb|intel-2018a| toolchain
together with one that uses the \verb|intel-2017a| toolchain:

\begin{prompt}
%\shellcmd{module load Python/2.7.14-intel-2018a}%
%\shellcmd{module load  HMMER/3.1b2-intel-2017a}%
Lmod has detected the following error:  A different version of the 'intel' module is already loaded (see output of 'ml').
You should load another 'HMMER' module for that is compatible with the currently loaded version of 'intel'.
Use 'ml avail HMMER' to get an overview of the available versions.

If you don't understand the warning or error, contact the helpdesk at hpc@ugent.be
While processing the following module(s):

    Module fullname          Module Filename
    ---------------          ---------------
    HMMER/3.1b2-intel-2017a  /apps/gent/CO7/haswell-ib/modules/all/HMMER/3.1b2-intel-2017a.lua
\end{prompt}

This resulted in an error because we tried to load two different versions of the
\verb|intel| module.

To fix this, check if there are other versions of the modules you want to load
that have the same version of common dependencies. You can list all versions of
a module with \verb|module avail|: for \verb|HMMER|, this command is \verb|module avail HMMER|.
\fi
