\chapter{Graphical applications with X2Go [recommended]}
\label{ch:x2go}

X2Go is a graphical desktop software for Linux similar to VNC but with extra advantages.
It does not require to execute a server in the login node and it is possible to setup a SSH proxy to
connect to an specific login node.
It can also be used to access Windows desktops. 


\section{Install X2Go client}
\label{sec:x2go-client}
X2Go is available for several operating system. You can download the latest client from 
\url{https://wiki.x2go.org/doku.php/doc:installation:x2goclient}.

X2Go requires a valid private SSH key to connect to the login node, this is described in \autoref{sec:generate-key-pair}.


\section{Create a new X2Go session}
\label{sec:sessions-x2go}

After the installation of x2goclient an application link can be found in the menu of your Desktop Environment.
Start the X2Go client. When you launch the client for the first time, it will start the new session dialogue automatically.

There are two ways to connect to the login node:
\begin{itemize}
\item \emph{Option A}: A direct connection to ``\strong{\emph{\loginnode}}''. This is the simpler option, the system will decide which
login node to use based on a load-balancing algorithm.
\item \emph{Option B}: You can use the node ``\strong{\emph{\loginnode}}'' as SSH proxy to connect to a specific login node. Use this option if you want to resume an old X2Go session.
\end{itemize}

\subsection{Option A: direct connection}
This is the easier way to setup X2Go, a direct connection to the login node.

\begin{center}
\includegraphics*[width=3.30in, height=3.17in, keepaspectratio=false]{ch19-x2go-configuration-gent}
\end{center}

\begin{enumerate}
    \item  Include a session name. This will help you to identify 
    the session if you have more than one, you can choose any name (in our example ``HPC login node``).
    \item  Set the login hostname (In our case: ``\strong{\emph{\loginnode}}'')
    \item  Set the Login name. In the example is ``\strong{\emph{vsc41206}}'' but you must change it by your
    current vsc account.
    \item  Set the SSH port (22 by default).
    \item  Check ``Try autologin'' option.
    \item  Choose Session type to ``XFCE'' by default.
    \item  \strong{[optional]:} Change the session icon.
    \item  Click the OK buttom after these changes.
\end{enumerate}

\subsection{Option B: use the login node as SSH proxy}
This option is useful if you want to resume a previous session or if you want to set explicitly the login node to use.
In this case you should include a few more options.

\begin{center}
\includegraphics*[width=3.30in, height=3.17in, keepaspectratio=false]{ch19-x2go-configuration-gent-proxy}
\end{center}

\begin{enumerate}
    \item  Include a session name. This will help you to identify 
    the session if you have more than one (in our example ``HPC UGent proxy login``).
    \item  Set the login hostname. This is the login node that you want to use at the end
    (In our case: ``\strong{\emph{\loginhost{}}}'')
    \item  Set the Login name. In the example is ``\strong{\emph{vsc41206}}'' but you must change it by your
    current vsc account.
    \item  Set the SSH port (22 by default).
    \item  Check ``Try autologin'' option.
    \item  Set ``Use Proxy server..'' to enable the proxy.
    \item  Set Type ``SSH'', ``Same login'', ``Same Password'' and ``SSH agent'' options.
    \item  Set Host to ``\strong{\emph{\loginnode}}'' within ``Proxy Server'' section as well.
    \item  Choose Session type to ``XFCE'' by default.
    \item  \strong{[optional]:} Choose a nice icon for the session.
    \item  Click the OK buttom after these changes.
\end{enumerate}

\section{Connect to your X2Go session}
\label{sec:connect-x2go}
Just click on any session that you already have to start/resume any session. It will take a few seconds to open the session the first time.
If you close the new windows the session is not closed, X2Go keeps the session open. It is possible to close a session if you logout from the current open session or if you click on the ``close'' button from X2Go. If you want to resume your session to continue working with it later just click on the pause icon or just close the session window. X2Go will keep the session open for you (but only if the login node is not rebooted)

\begin{center}
\includegraphics*[width=3.30in, height=3.17in, keepaspectratio=false]{ch19-x2go-session-gent}
\end{center}

